@model IEnumerable<createform.Models.city>
@{
    ViewBag.Title = "Index";
}


<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" onclick="Create()" data-backdrop="false"  data-toggle="modal" data-target="#myModal">
  Create
</button><br /><br />
   

@using (Html.BeginForm("Upload", "city", FormMethod.Post, new{enctype = "multipart/form-data"}))
{
 <input type="file" name="UploadedFile" /><br />
<input type="submit" name="Upload" class="btn btn-success"/><br /><br />
}
@*
<button class="btn btn-default">@Html.ActionLink("Create","Create","Home")</button>*@
<div class="Container">
<div id="emppar1">
</div>
@*
@Html.Partial("empartial")*@

</div>



<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
     
        </div>
        </div>
      </div>
     </div>



<script type="text/javascript">
    $(document).ready(function () {
        debugger;
        $('#emppar1').load('@Url.Action("citypartial","city")');
        //$('#myTable').dataTable();
        //$('#emppar').load('Shared/empartial');

    });


   


    function Create() {
        debugger;
        $.ajax({
            url: '/city/Create',
            method: 'GET',
            dataType: 'json',
            contentType: "application/json; charset=utf-8",
            data: {},
            success: function (html) {
                debugger;
                $('#myModal .modal-body').html(html);
                //$('#myModal').modal({ toggle: "toggle", backdrop: "static" });
                $('#myModal').modal('show');

            },
            error: function (error) {
                debugger;

                $('#myModal .modal-body').html(error.responseText);
                //$('#myModal').modal({ toggle: "toggle", backdrop: "static" });
                $('#myModal').modal('show');
            }
        });


    }



    function edit(id) {
        debugger;
        $.ajax({
            url: '/city/Edit',
            method: 'GET',
            dataType: 'json',
            contentType: "application/json; charset=utf-8",
            data: { id: id },
            success: function (html) {
                debugger;
                $('#myModal .modal-body').html(html);
                $('#myModal').modal('show');

            },
            error: function (error) {
                debugger;
                $('#myModal .modal-body').html(error.responseText);
                $('#myModal').modal('show');
            }
        });


    }


</script>
